# 第6讲   图(一)

## 6.1  图的基本概念

- 相比于线性结构和树结构，图结构是一种更为复杂的数据结构，并不存在特殊的根节点，每个节点都可能存在多个相邻的节点。
- 图结构可以用二元组G=（V,E）来表示，其中V为顶点集，E为边集。

### 图的基本定义

- 有向图&无向图：在图中，若用箭头标明了边是有方向性的，则称这样的图为有向图，否则称为无向图。 
- 简单图&多重图：在无向图中，关联一对顶点的无向边如果多于1条，则称这些边为**平行边**，平行边的条数称为**重数**；在有向图中，关联一对顶点的有向边如果多于1条，并且这些边的始点与终点相同(也就是它们的的方向相同)，称这些边为**平行边**。 含平行边的图称为多重图，既不含平行边也不包含自环的图称为简单图。 
- 完全图，稠密图&稀疏图：完全图是一个简单的无向图，其中每对不同的顶点之间都恰连有一条边相连。与稀疏图含义相反的是稠密图，稀疏图的边数远远少于完全图，而稠密图的边数接近于或等于完全图。
- 子图：指节点集和边集分别是某一图的节点集的子集和边集的子集的图
- 顶点的度：依附于某个顶点的边的数目。若为有向图，还可为分为出度和入度。
- 连通：在无向图G中，如果从顶点v到顶点w有路径，则称v和w是连通的。如果图G的任两个顶点都是连通的，则称G是连通图。图G的极大连通子图称为**连通分量**。在有向图G中，如果对于每一对顶点，它们互相之间都存在路径，则称G为**强连通图**。

## 6.2  图的存储
### 6.2.1  邻接矩阵
- 图的逻辑结构分为两部分：V和E集合，其中，V是顶点，E是边。
- 因此，用一个一维数组存放图中所有顶点数据；用一个二维数组存放顶点间关系（边或弧）的数据，这个二维数组称为邻接矩阵。 
- 邻接矩阵又分为有向图邻接矩阵和无向图邻接矩阵

### 6.2.2  邻接表
- 邻接矩阵的缺点：对于稀疏图，邻接矩阵中会出现大量无用的信息。
- 对于稀疏图，可以使用邻接表。
邻接表的存储方法跟树的孩子链表示法相类似，是一种顺序分配和链式分配相结合的存储结构。
- 如这个表头结点所对应的顶点存在相邻顶点，则把相邻顶点依次存放于表头结点所指向的单向链表中。
- 邻接表的空间复杂度：对于n个顶点，e条边的有向图，邻接表需要（n+e）个链表节点；对于n个顶点，e条边的无向图，邻接表需要（n+2e）个链表节点。
### 6.2.3  链式前向星
- **前向星**是一种特殊的边集数组,我们把边集数组中的每一条边按照起点从小到大排序,如果起点相同就按照终点从小到大排序,并记录下以某个点为起点的所有边在数组中的起始位置和存储长度。
- **链式前向星**：如果说邻接表是不好写但效率好，邻接矩阵是好写但效率低的话，前向星就是一个相对中庸的数据结构。前向星固然好些，但效率并不高。而在优化为链式前向星后，效率也得到了较大的提升。
相比于前向星，链式前向星省去了排序的部分。

## 6.3  图的遍历
图的最常见的遍历方法有两种：深度优先遍历（DFS）与广度优先遍历（BFS）
- DFS主要思路是从图中一个未访问的顶点 V 开始，沿着一条路一直走到底，然后从这条路尽头的节点回退到上一个节点，再从另一条路开始走到底…，不断递归重复此过程，直到所有的顶点都遍历完成
- 而BFS是从某个节点（源点）出发，一次性访问所有未被访问的邻接点，再依次从这些已访问过的邻接点出发，一层一层地访问。
- DFS和BFS均可以有递归的实现方法与非递归的实现方法
- 时间复杂度：对于邻接矩阵，由于矩阵一定是n*n的，所以遍历的时间复杂度一定是o（n²）级别的，
而采用邻接表的存储方式，时间复杂度就会是o（n+e）的。

##  6.4  拓扑排序
- 对于有向图而言，如果不存在有向环，就称之为有向无环图。
- 有向无环图 (DAG) 的拓扑排序是顶点的线性排序，使得对于每个有向边 u~v，顶点 u排在 v 之前。如果图不是 DAG，则无法对图进行拓扑排序。
- 拓扑排序的常用方法：建立源点序列，取出一个源点放入排序队列，再删除这个源点及从其出发的边，把新的源点放入源点队列的队尾，重复上述操作。
- 用途：做调度问题的模型，检测图内是否有环









